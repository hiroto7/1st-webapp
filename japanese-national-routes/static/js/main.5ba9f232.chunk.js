(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(20)},17:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(9),i=n.n(l),o=(n(17),n(6)),u=n.n(o),c=n(7),s=n(10),h=n(1),d=n(2),m=n(4),p=n(3),g=n(5),b=(n(19),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(m.a)(this,Object(p.a)(t).call(this,e))).animationFrame=null,n.state={value:0},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.animationFrame=requestAnimationFrame(function t(n){var a=Math.floor(n/250%(e.props.length+1));e.state.value!==a&&e.setState({value:a}),e.animationFrame=requestAnimationFrame(t)})}},{key:"componentWillUnmount",value:function(){null!==this.animationFrame&&cancelAnimationFrame(this.animationFrame)}},{key:"render",value:function(){for(var e=[],t=0;t<this.props.length;t++)e.push(r.a.createElement("span",{style:{color:t<this.state.value?"white":"rgba(255, 255, 255, .5)"}},">"));return r.a.createElement("div",{style:{letterSpacing:"-.25em"}},e)}}]),t}(r.a.Component)),f=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(m.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={currentRouteNumber:"",current:null,error:null,info:null},n}return Object(g.a)(t,e),Object(d.a)(t,[{key:"changeRouteTo",value:function(){var e=Object(s.a)(u.a.mark(function e(t){var n,a,r,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://www.ohsuga.is.uec.ac.jp/sparql",n="PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\nPREFIX dbpedia-ja: <http://ja.dbpedia.org/resource/>\nPREFIX dbpedia-owl: <http://dbpedia.org/ontology/>\n\nselect distinct * where {\n  dbpedia-ja:\u56fd\u9053".concat(t,"\u53f7\n    dbpedia-owl:routeStart ?routeStart ;\n    dbpedia-owl:routeEnd ?routeEnd .\n  optional {\n    dbpedia-ja:\u56fd\u9053").concat(t,"\u53f7 dbpedia-owl:length ?length .\n  }\n  ?routeStart rdfs:label ?routeStartLabel.\n  ?routeEnd rdfs:label ?routeEndLabel .\n}\n"),e.prev=2,this.setState({current:null,error:null,info:"\u554f\u3044\u5408\u308f\u305b\u4e2d..."}),e.next=6,fetch("".concat("http://www.ohsuga.is.uec.ac.jp/sparql","?query=").concat(encodeURIComponent(n)),{headers:{Accept:"application/sparql-results+json"}});case 6:return a=e.sent,e.next=9,a.text();case 9:if(r=e.sent,!((l=JSON.parse(r)).results.bindings.length<1)){e.next=13;break}throw new Error("'\u56fd\u9053".concat(t,"\u53f7' \u306f\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3002"));case 13:this.setState({current:{number:t,start:Object(c.a)(new Set(l.results.bindings.map(function(e){return e.routeStartLabel.value}))),end:Object(c.a)(new Set(l.results.bindings.map(function(e){return e.routeEndLabel.value}))),length:void 0===l.results.bindings[0].length?null:l.results.bindings[0].length.value},error:null,info:void 0===l.results.bindings[0].length?"'\u56fd\u9053".concat(t,"\u53f7' \u306e\u9577\u3055\u306f\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3002"):null}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),this.setState({current:null,error:e.t0,info:null});case 19:case"end":return e.stop()}},e,this,[[2,16]])}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{style:{padding:"64px 0",fontSize:"2em",fontWeight:"bold"}},"\u56fd\u9053",r.a.createElement("input",{type:"number",autoFocus:!0,min:1,max:999,value:this.state.currentRouteNumber,onChange:function(t){var n=+t.target.value;e.setState({currentRouteNumber:n}),e.changeRouteTo(n)}}),"\u53f7"),null===this.state.info?"":r.a.createElement("div",{style:{color:"rgba(255, 255, 255, .5)"}},this.state.info.toString()),null===this.state.error?"":r.a.createElement("div",{style:{color:"red"}},this.state.error.toString()),null===this.state.current?"":r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"2em"}},r.a.createElement("ul",{style:{textAlign:"right"}},this.state.current.start.map(function(e){return r.a.createElement("li",null,e)})),r.a.createElement("div",{style:{margin:"0 1em"}},null===this.state.current.length?r.a.createElement("div",null,"-".repeat(8)):r.a.createElement("div",null,r.a.createElement("div",null,this.state.current.length<1e3?"".concat(this.state.current.length,"m"):"".concat(this.state.current.length/1e3,"km")),r.a.createElement("div",null,r.a.createElement(b,{length:this.state.current.length/2e4})))),r.a.createElement("ul",{style:{textAlign:"left"}},this.state.current.end.map(function(e){return r.a.createElement("li",null,e)}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.5ba9f232.chunk.js.map